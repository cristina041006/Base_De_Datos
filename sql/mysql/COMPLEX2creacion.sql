CREATE TABLE EMPLE 
(
	EMP_NO INTEGER(5),
	APELLIDO VARCHAR(20),
	OFICIO VARCHAR(20),
	DIR INTEGER(5),
	FECHA_ALT DATE,
	SALARIO INTEGER(8),
	COMISION INTEGER(8),
	DEPT_NO INTEGER(3),
	
	CONSTRAINT PK_EMPLE PRIMARY KEY (EMP_NO)
	
);

CREATE TABLE DEPART 
(
	DEPT_NO INTEGER(3),
	DNOMBRE VARCHAR(20),
	LOC VARCHAR(20),

	CONSTRAINT PK_DEPART PRIMARY KEY (DEPT_NO)	
);

CREATE TABLE HERRAMIENTAS
(
	DESCRIPCION VARCHAR(20),
	ESTANTERIA INTEGER(1),
	UNIDADES INTEGER(2),
	CONSTRAINT PK_HERRAMIENTAS PRIMARY KEY (DESCRIPCION)
);

CREATE TABLE HOSPITALES
(
	COD_HOSPITAL INTEGER(3),
	NOMBRE VARCHAR(30),
	DIRECCION VARCHAR(50),
	NUM_PLAZAS INTEGER(3),
	
	CONSTRAINT PK_HOSPITALES PRIMARY KEY (COD_HOSPITAL)
);

CREATE TABLE MEDICOS
(
	COD_HOSPITAL INT(2),
	DNI VARCHAR(9),
	APELLIDOS VARCHAR(30),
	ESPECIALIDAD VARCHAR(20),
	
	CONSTRAINT PK_MEDICOS PRIMARY KEY(DNI)

);

CREATE TABLE PERSONAS
(
	DNI VARCHAR(9),
	COD_HOSPITAL INT(10),
	APELLIDOS VARCHAR(30),
	FUNCION VARCHAR(20),
	SALARIO INT(10),
	CONSTRAINT PK_PER PRIMARY KEY (DNI),
	CONSTRAINT FK_PE FOREIGN KEY (COD_HOSPITAL) REFERENCES HOSPITALES(COD_HOSPITAL)
);

ALTER TABLE MEDICOS ADD CONSTRAINT FK2_MEDICOS FOREIGN KEY(DNI) REFERENCES PERSONAS(DNI);
ALTER TABLE MEDICOS ADD CONSTRAINT FK_MEDICOS FOREIGN KEY(COD_HOSPITAL) REFERENCES HOSPITALES(COD_HOSPITAL);



INSERT INTO EMPLE VALUES (7369, 'SÁNCHEZ', 'EMPLEADO', 7902, STR_TO_DATE('17-12-1980', '%d-%m-%Y'), 104000, NULL, 20);
INSERT INTO EMPLE VALUES (7499, 'ARROYO', 'VENDEDOR', 7698, STR_TO_DATE('20-02-1980', '%d-%m-%Y'), 208000, 39000, 30);
INSERT INTO EMPLE VALUES (7521, 'SALA', 'VENDEDOR', 7698, STR_TO_DATE('22-02-1981', '%d-%m-%Y'), 162500, 162500, 30);
INSERT INTO EMPLE VALUES (7566, 'JIMÉNEZ', 'DIRECTOR', 7839, STR_TO_DATE('02-04-1981', '%d-%m-%Y'), 386750, NULL, 20);
INSERT INTO EMPLE VALUES (7654, 'MARTÍN', 'VENDEDOR', 7698, STR_TO_DATE('29-09-1981', '%d-%m-%Y'), 162500, 182000, 30);
INSERT INTO EMPLE VALUES (7698, 'NEGRO', 'DIRECTOR', 7839, STR_TO_DATE('01-05-1981', '%d-%m-%Y'), 370500, NULL, 30);
INSERT INTO EMPLE VALUES (7788, 'GIL', 'ANALISTA', 7566, STR_TO_DATE('09-11-1981', '%d-%m-%Y'), 390000, NULL, 20);
INSERT INTO EMPLE VALUES (7839, 'REY', 'PRESIDENTE', NULL, STR_TO_DATE('17-11-1981', '%d-%m-%Y'), 650000, NULL, 10);
INSERT INTO EMPLE VALUES (7844, 'TOVAR', 'VENDEDOR', 7698, STR_TO_DATE('08-09-1981', '%d-%m-%Y'), 195000, NULL, 30);
INSERT INTO EMPLE VALUES (7876, 'ALONSO', 'EMPLEADO', 7788, STR_TO_DATE('23-09-1981', '%d-%m-%Y'), 143000, NULL, 20);
INSERT INTO EMPLE VALUES (7900, 'JIMENO', 'EMPLEADO', 7698, STR_TO_DATE('03-12-1981', '%d-%m-%Y'), 1235000, NULL, 30);
INSERT INTO EMPLE VALUES (7902, 'FERNÁNDEZ', 'ANALISTA', 7566, STR_TO_DATE('03-12-1981', '%d-%m-%Y'), 390000, NULL, 20);
INSERT INTO EMPLE VALUES (7934, 'MUÑOZ', 'EMPLEADO', NULL, STR_TO_DATE('23-01-1982', '%d-%m-%Y'), 169000, NULL, 10);

INSERT INTO DEPART VALUES (10,'CONTABILIDAD','SEVILLA');
INSERT INTO DEPART VALUES (20,'INVESTIGACIÓN','MADRID');
INSERT INTO DEPART VALUES (30,'VENTAS','BARCELONA');
INSERT INTO DEPART VALUES (40,'PRODUCCIÓN','BILBAO');

ALTER TABLE EMPLE ADD CONSTRAINT FK_DEPT_NO FOREIGN KEY (DEPT_NO) REFERENCES DEPART(DEPT_NO);
ALTER TABLE EMPLE ADD CONSTRAINT FK_EMPLE FOREIGN KEY (DIR) REFERENCES EMPLE(EMP_NO);


INSERT INTO HOSPITALES VALUES (1, 'RAFAEL MENDEZ', 'GRAN VIA, 7', 250);
INSERT INTO HOSPITALES VALUES (2, 'REINA SOFIA', 'JUNTERONES, 5', 225);
INSERT INTO HOSPITALES VALUES (3, 'PRINCIPE ASTURIAS', 'AVENIDA COLON', 150);
INSERT INTO HOSPITALES VALUES (4, 'VIRGEN DE LA ARRIXACA', 'AVENIDA JUAN CARLOS, I', 250);


INSERT INTO HERRAMIENTAS VALUES ('Alicates', 1, 10);
INSERT INTO HERRAMIENTAS VALUES ('Cortador', 4, 5);
INSERT INTO HERRAMIENTAS VALUES ('Destornillador', 3, 7);
INSERT INTO HERRAMIENTAS VALUES ('Escofina', 6, 5);
INSERT INTO HERRAMIENTAS VALUES ('Guantes', 2, 7);
INSERT INTO HERRAMIENTAS VALUES ('Lima', 6, 10);
INSERT INTO HERRAMIENTAS VALUES ('Martillo', 3, 10);
INSERT INTO HERRAMIENTAS VALUES ('Metro', 5, 15);
INSERT INTO HERRAMIENTAS VALUES ('Sierra', 4, 5);
INSERT INTO HERRAMIENTAS VALUES ('Soldador', 1, 15);


INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (1,'12345678','Garcia Hernandez, Eladio','CONSERJE',1500);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (4,'22233311','Martinez Molina, Gloria','MEDICO',1600);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (2,'22233322','Tristan Garcia, Ana','MEDICO',1900);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (2,'22233333','Martienez Molina, Andres','MEDICO',1600);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (4,'33222111','Mesa del Castillo , Juan','MEDICO',2200);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (3,'55544411','Ruiz Hernandez, Caridad','MEDICO',19000);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (4,'55544412','Jimenez Jimenez, Dolores','CONSERJE',1200);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (2,'55544433','Gonzalez Martin, Alicia','CONSERJE',1200);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (1,'66655544','Castillo Montes, Pedro','MEDICO',1700);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (1,'87654321','Fuentes Bermejo, Carlos','DIRECTOR',2000);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (3,'99988333','Serrano Diaz, Alejandro','DIRECTOR',2400);


INSERT INTO MEDICOS VALUES(4,'22233311','MARTINEZ MOLINA, GLORIA','PSIQUIATRA');
INSERT INTO MEDICOS VALUES(2,'22233322','TRISTAN GARCIA, ANA','CIRUJANO');
INSERT INTO MEDICOS VALUES(2,'22233333','MARTINEZ MOLINA, ANDRES','CIRUJANO');
INSERT INTO MEDICOS VALUES(4,'33222111','MESA DEL CASTILLO, JUAN','DERMATOLOGO');
INSERT INTO MEDICOS VALUES(1,'66655544','CASTILLO MONTES, PEDRO','PSIQUIATRA');